<html>
    <head>
        <title>Home</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="style/home.css" >
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    </head>
    <body>
        <div class="geral">
            <div class="topo">
                <h2>JL System</h2>
                <a href="/newClient"><button id="btn_cadastro">cadastro</button></a>
            </div>
            <div class="busca">
                <h3>Buscar</h3>
                <form class="formulariobusca" action="/filter" method="post">
                    <input title="Preencha todos os campos" minlength="2" id="uf" maxlength="2" name="uf" placeholder="uf"/>
                    <input title="Preencha todos os campos" type="number" maxlength="14" id="cpf_cnpj" name="cpf_cnpj" placeholder="cpf ou cnpj" />
                    <input title="Preencha todos os campos" type="number" maxlength="8" name="cep" id="cep" placeholder="cep" />
                    <button id="btn_filter" disabled>Ok</button>
                </form>
            </div>
            <div class="clientes">
                <a href="/"><button>Atualizar</button></a>
                <div class="listagem">
                    <table class="table">
                        <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Tipo</th>
                            <th scope="col">CPF/CNPJ</th>
                            <th scope="col">Nome</th>
                            <th scope="col">Endereco</th>
                            <th scope="col">Logradouro</th>
                            <th scope="col">Bairro</th>
                            <th scope="col">Cidade</th>
                            <th scope="col">UF</th>
                            <th scope="col">Cep</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Excluir</th>
                        </tr>
                        </thead>
                        <tbody>
                            <%for(let i =0; i< data.length; i++){%>
                                <tr>
                                    <th><%=data[i].id%></th>
                                    <td><%=data[i].descricao_tipo%></td>
                                    <td><%=data[i].cpf_cnpj%></td>
                                    <td><%=data[i].nome%></td>
                                    <td><%=data[i].endereco%></td>
                                    <td><%=data[i].nro_logradouro%></td>
                                    <td><%=data[i].bairro%></td>
                                    <td><%=data[i].cidade%></td>
                                    <td><%=data[i].uf%></td>
                                    <td><%=data[i].cep%></td>
                                    <td>
                                        <form action="/edit" method="post">
                                            <input name="id" type="hidden" value="<%=data[i].id%>">
                                            <input name="nome" type="hidden" value="<%=data[i].nome%>">
                                            <input name="cpf_cnpj" type="hidden" value="<%=data[i].cpf_cnpj%>">
                                            <input name="cep" type="hidden" value="<%=data[i].cep%>">
                                            <input name="endereco" type="hidden" value="<%=data[i].endereco%>">
                                            <input name="nro_logradouro" type="hidden" value="<%=data[i].nro_logradouro%>">
                                            <input name="bairro" type="hidden" value="<%=data[i].bairro%>">
                                            <input name="cidade" type="hidden" value="<%=data[i].cidade%>">
                                            <input name="uf" type="hidden" value="<%=data[i].uf%>">
                                            <button id="btn_editar">Editar</button>
                                        </form>
                                    </td>
                                    <td>
                                        <form action="/delete" method="post">
                                            <input name="id" type="hidden" value="<%=data[i].id%>">
                                            <button id="btn_excluir">Excluir</button>
                                        </form>
                                    </td>
                                </tr>
                            <%}%>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script src="/scripts/home.js"></script>
    </body>
</html>